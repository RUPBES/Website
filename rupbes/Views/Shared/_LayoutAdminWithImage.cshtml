<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="canonical" href="https://rupbes.by/" />
    <title>'БЕЛЭНЕРГОСТРОЙ' ХОЛДИНГ</title>
    <link href="~/Scripts/respond.js" type="text/javascript" />
    <link href="~/Content/Styles/main.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" rel="stylesheet" />
</head>
<body class="theme_funky">
    <div class="full-screen">
        <div class="top-screen">
            <header class="header">
                <div class="main-menu-item">@Html.ActionLink(" ", "Index", "Home")</div>
            </header>
        </div>
        <div class="container">
            @RenderBody()
        </div>
    </div>

    <button id="btn-up"></button>
    <div id="modal-block-for-content" class="modalBootsrap" tabindex="-1" style="display: none">
        <div class="modal-dialog">
            <div class="modal-content-text">
                <div class="modal-header">
                    <h2 class="modal-title" id="modal-title"></h2>
                    <span class="closeContent" onclick="CloseModalContent()">&times;</span>
                </div>
                <div id="modal-body" class="modal-body">
                </div>
            </div>
        </div>
    </div>
    <div id="modal-block" class="modal">
        <span class="close" onclick="CloseModal()">&times;</span>
        <div class="modal-content" id="modal-content"></div>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/scripts/jquery-1.10.2.js")
    @Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
    @RenderSection("scripts", required: false)

    <script>
        var btnUp = document.getElementById('btn-up');
        btnUp.onclick = function () {
            $('body').animate({ 'scrollTop': 0 }, 200);
            $('html').animate({ 'scrollTop': 0 }, 200);
        };
        $(window).scroll(function () {
            if ($(window).scrollTop() > 660) {
                $('#btn-up').addClass('active');
            }
            else {
                $('#btn-up').removeClass('active');
            }
        });
    </script>
    <script type="text/javascript">
            var imgsBlocks = document.getElementsByClassName('news-imgs');
            var imgsIndxs = [];
            var plusSlideBlocks = document.getElementsByClassName('plus-slide');
            var minusSlideBlocks = document.getElementsByClassName('minus-slide');
            var fullScreenBlocks = document.getElementsByClassName('full-screen-btn');
        function initMass() {
                for (i = 0; i < imgsBlocks.length; i++) {
                    imgsIndxs.push('0');
                }
            }
            initMass();
        function pageStart() {
                for (i = 0; i < imgsBlocks.length; i++) {
                    for (j = 0; j < imgsBlocks[i].children.length; j++) {
                        imgsBlocks[i].children[j].style.opacity = '0.0';
                        imgsBlocks[i].children[j].style.zIndex = "0";
                    }
                    if (imgsBlocks[i].children.length >= 1) {
                        imgsBlocks[i].children[0].style.opacity = "1";
                        imgsBlocks[i].children[0].style.zIndex = "1";
                    }
                }
            for (m = 0; m < minusSlideBlocks.length; m++) {
                    minusSlideBlocks[m].setAttribute("onclick", "minusSlide(" + m + ")");
                    plusSlideBlocks[m].setAttribute("onclick", "plusSlide(" + m + ")");
                    fullScreenBlocks[m].setAttribute("onclick", "openModal(" + m + ")");
                    if (imgsBlocks[m].children.length == 1) {
                        minusSlideBlocks[m].style.display = 'none';
                        plusSlideBlocks[m].style.display = 'none';
                    }
                }
            }
            pageStart();
        function minusSlide(m) {
                if (imgsIndxs[m] <= 0) {
                    imgsIndxs[m] = imgsBlocks[m].children.length - 1;
                }
                else {
                    imgsIndxs[m]--;
                }
                for (i = 0; i < imgsBlocks[m].children.length; i++) {
                    imgsBlocks[m].children[i].style.opacity = "0";
                    imgsBlocks[m].children[i].style.zIndex = "0";
                }
                imgsBlocks[m].children[imgsIndxs[m]].style.opacity = "1";
                imgsBlocks[m].children[imgsIndxs[m]].style.zIndex = "1";
            }
        function plusSlide(m) {
                if (imgsIndxs[m] >= imgsBlocks[m].children.length - 1) {
                    imgsIndxs[m] = 0;
                }
                else {
                    imgsIndxs[m]++;
                }
                for (i = 0; i < imgsBlocks[m].children.length; i++) {
                    imgsBlocks[m].children[i].style.opacity = "0";
                    imgsBlocks[m].children[i].style.zIndex = "0";
                }
                imgsBlocks[m].children[imgsIndxs[m]].style.opacity = "1";
                imgsBlocks[m].children[imgsIndxs[m]].style.zIndex = "1";
            }
    </script>

    <script>
        var modalBlock = document.getElementById('modal-block');
        var imageBlock = document.getElementById('modal-content');
        var closeBtn = document.getElementById('close-btn');
        function openModal(i) {
            var domElems = document.getElementsByClassName('news-imgs-block')[i].cloneNode(true);
            imageBlock.appendChild(domElems);
            initMass();
            pageStart();
            var imgsCount = document.getElementsByClassName('news-imgs').length;
            modalBlock.style.display = 'block';
            addEventListener("keydown", SwithHandler);
        }
        function CloseModal() {
            imageBlock.innerHTML = '';
            modalBlock.style.display = 'none';
            removeEventListener("keydown", SwithHandler);
        }
        function CloseModalContent() {
            $('.theme_funky').css("overflow", "");
            $('#modal-block-for-content').css("display", "none");
            $('#modal-block-for-content').removeClass('active');
        }
        function SwithHandler(e) {
            let i = document.getElementsByClassName('news-imgs').length - 1;
            switch (e.keyCode) {
                case 37:
                    minusSlide(i);
                    break;
                case 39:
                    plusSlide(i);
                    break;
                case 27:
                    CloseModal();
                    break;
            }
        }
    </script>

    <script>
        var adapItem = document.getElementsByClassName('adap-item');
        var menuBtn = document.getElementById('menu');
        menuBtn.onclick = function () {
            if (menuBtn.className == 'menu-btn open-menu') {
                for (i = 0; i < adapItem.length; i++) {
                    adapItem[i].className = 'main-menu-item adap-item hidden';
                }
                menuBtn.className = 'menu-btn close-menu';
            }
            else if (menuBtn.className == 'menu-btn close-menu') {
                for (i = 0; i < adapItem.length; i++) {
                    adapItem[i].className = 'main-menu-item adap-item';
                }
                menuBtn.className = 'menu-btn open-menu';
            }
        };
    </script>
</body>
</html> 